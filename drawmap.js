let locations = [{"village":"Lunteren","id":"59","title":"Basisschool De Valk","address":" Hoge Valkseweg 37","geometry" : {
  "lat" : 52.11891809999999,
  "lng" : 5.684095
}},{"village":"Bennekom","id":"42","title":"De Edelzanger","address":" Laarweg 80A","geometry" : {
  "lat" : 52.0065886,
  "lng" : 5.6825056
}},{"village":"Hoenderloo","id":"99","title":"Hotel-Restaurant Buitenlust","address":" Apeldoornseweg 30","restrictions":" 18:00 - 21:00 uur","geometry":{"lat":52.1214085,"lng":5.8732618}},{"village":"Ede","id":"2V","title":"erzorgingshuis Bethanie","address":" Platteelhof 3","restrictions":" ingang Kerkzaal","geometry":{"lat":52.0399444,"lng":5.6727539}},{"village":"Ede","id":"29","title":"Het Kernhuis","address":" Parkrand 60","geometry":{"lat":52.0488854,"lng":5.6440327}},{"village":"Ede","id":"39","title":"Ziekenhuis Gelderse Vallei","address":" Willy Brandtlaan 10","geometry" : {
  "lat" : 52.021128,
  "lng" : 5.645601
}},{"village":"Ede","id":"16","title":"Verzorgingshuis Het Maanderzand","address":" Louise Henriettelaan 17","geometry":{"lat":52.03253360000001,"lng":5.665685}},{"village":"Ede","id":"1h","title":"et Raadhuis","address":" hoofdingang","restrictions":" Bergstraat 4","geometry":{"lat":52.102923,"lng":5.786905}},{"village":"Bennekom","id":"43","title":"Walraven","address":" Oost-Breukelderweg 1","geometry":{"lat":52.0120818,"lng":5.6744914}},{"village":"Bennekom","id":"46","title":"CNS-basisschool Juliana","address":" Halderweg 43","geometry":{"lat":52.0027118,"lng":5.6690238}},{"village":"Harskamp","id":"71","title":"Dorpscentrum De Spil","address":" Molenweg 8","geometry":{"lat":52.1261283,"lng":5.750791899999999}},{"village":"Bennekom","id":"49","title":"de School met de Bijbel","address":" Rijnsteeg 5","geometry":{"lat":52.0120283,"lng":5.6263314}},{"village":"Ede","id":"7d","title":"e Petrakerk","address":" Lunterseweg 25","geometry":{"lat":52.0579514,"lng":5.6421347}},{"village":"Ede","id":"26","title":"De Open Hof","address":" Hoflaan 2","geometry":{"lat":52.0433324,"lng":5.638944599999999}},{"village":"Bennekom","id":"47","title":"Tennishal Keltenwoud","address":" Langschoterweg 9","geometry":{"lat":52.00633329999999,"lng":5.6578905}},{"village":"Lunteren","id":"53","title":"De Schakel","address":" Schaepmanstraat 58","geometry":{"lat":52.0900511,"lng":5.6142295}},{"village":"Ede","id":"18","title":"Kerkelijk Centrum Emmaüs","address":" Laan der Verenigde Naties 94","geometry":{"lat":52.01972629999999,"lng":5.637299}},{"village":"Ede","id":"4V","title":"ilente St. Barbara","address":" Minister Aalbersepark 1","geometry":{"lat":52.03319459999999,"lng":5.6676348}},{"village":"Lunteren","id":"52","title":"Het Westhoffhuis","address":" Dorpsstraat 28","geometry":{"lat":52.0833916,"lng":5.6230221}},{"village":"Ede","id":"33","title":"de Koepelschool","address":" Nieuwe Maanderbuurtweg 2","geometry":{"lat":52.0308302,"lng":5.652093199999999}},{"village":"Ede","id":"38","title":"Cultura Stadspoort","address":" Stadspoort 28","geometry":{"lat":52.0179915,"lng":5.649730099999999}},{"village":"Ede","id":"10","title":"Restaurant Buitenzorg","address":" Amsterdamseweg 19","geometry":{"lat":52.0487179,"lng":5.6670685}},{"village":"Bennekom","id":"45","title":"De Brink","address":" Brinkstraat 39","restrictions":" ingang Krulweg","geometry":{"lat":52.0005619,"lng":5.673480899999999}},{"village":"Ede","id":"9C","title":"NS-basisschool De Vuursteen","address":" Balgzand 2","geometry":{"lat":52.0511344,"lng":5.6301687}},{"village":"Ede","id":"3V","title":"ilente De Nieuwe Klinkenberg","address":" Nieuwe Klinkenberg 1","geometry":{"lat":52.0382034,"lng":5.6872387}},{"village":"Ede","id":"6D","title":"e Wonewei","address":" Hegelstate 17","geometry":{"lat":52.0244587,"lng":5.630812499999999}},{"village":"Ede","id":"8E","title":"lim","address":" Stakenberg 94","geometry":{"lat":52.051583,"lng":5.6430907}},{"village":"Harskamp","id":"70","title":"Wijkservicecentrum Metje","address":" Smachtenburgerhof 1","geometry":{"lat":52.133315,"lng":5.752692}},{"village":"Lunteren","id":"51","title":"School met de Bijbel De Bron","address":" Postweg 7","geometry":{"lat":52.08653049999999,"lng":5.6174214}},{"village":"Ede","id":"31","title":"Poortgebouw Enka","address":" Akulaan 10","geometry":{"lat":6.8343493,"lng":7.394791199999999}},{"village":"Lunteren","id":"55","title":"Hotel-Bistro De Wormshoef","address":" Dorpsstraat 192","geometry":{"lat":52.0925374,"lng":5.6183793}},{"village":"Ede","id":"15","title":"Speeltuin De Korenbloem","address":" Korenbloemlaan 9A","geometry":{"lat":52.036025,"lng":5.6601396}},{"village":"Ede","id":"35","title":"de Koningin Beatrixschool","address":" Mondriaanstraat 22","geometry":{"lat":52.01858379999999,"lng":5.6541332}},{"village":"Ederveen","id":"60","title":"Dorpshuis De Zicht","address":" Marktplein 10","geometry":{"lat":52.0615005,"lng":5.5767235}},{"village":"Ede","id":"22","title":"Ons Eigen Honk","address":" Begonialaan 42","geometry":{"lat":52.03723189999999,"lng":5.6527414}},{"village":"Ede","id":"34","title":"De Meerpaal","address":" Industrielaan 1","geometry":{"lat":52.0282594,"lng":5.655132}},{"village":"Ede","id":"23","title":"De Ark","address":" Heyendaal 10","geometry":{"lat":52.0396632,"lng":5.6367107}},{"village":"Ede","id":"20","title":"Vilente De Pleinen","address":" Pollenstein 174","geometry":{"lat":52.0437212,"lng":5.6457716}},{"village":"Bennekom","id":"40","title":"’t Kerkheem","address":" Kerkhoflaan 34 ","geometry":{"lat":51.998073,"lng":5.6768142}},{"village":"Ede","id":"12","title":"Cultura","address":" Molenstraat 45","geometry":{"lat":52.0464607,"lng":5.667530500000001}},{"village":"Wekerom","id":"80","title":"Kulturhus Wekerom","address":" Dorpsplein 1","geometry":{"lat":52.1117625,"lng":5.7160645}},{"village":"Ede","id":"36","title":"ROC A12","address":" Reehorsterweg 80","geometry":{"lat":52.0214282,"lng":5.6620528}},{"village":"Ede","id":"17","title":"De Gelderhorst","address":" Willy Brandtlaan 40","geometry":{"lat":52.0166793,"lng":5.6467807}},{"village":"Ede","id":"5D","title":"e Doelen","address":" Raadhuisplein 2","geometry":{"lat":52.0451333,"lng":5.6732029}},{"village":"Ede","id":"21","title":"kantoor Nationale Nederlanden","address":" Loevestein 33","geometry":{"lat":52.0407409,"lng":5.645461900000001}},{"village":"Lunteren","id":"50","title":"De Honskamp hoofdingang","address":"Dorpsstraat 25","geometry" : {
  "lat" : 52.0815736,
  "lng" : 5.6228967
}},{"village":"Ede","id":"14","title":"Buurtcentrum De Kolk","address":" Schaapsweg 7A","geometry":{"lat":52.039137,"lng":5.6630881}},{"village":"Bennekom","id":"41","title":"De Ontmoeting","address":" Emmalaan 1","geometry":{"lat":51.9992566,"lng":5.681569}},{"village":"Ede","id":"30","title":"de Bethelkerk","address":" Jan Th. Tooroplaan 133","geometry":{"lat":52.0249755,"lng":5.665259199999999}},{"village":"Ede","id":"98","title":"NS-station Ede-Wageningen","address":" Stationsplein 6","restrictions":" 07:00 - 10:00 en van 16:00 - 19:00 uur","geometry":{"lat":52.0280785,"lng":5.671922899999999}},{"village":"Ede","id":"37","title":"Dependance Beatrixschool","address":" Jan Voermanstraat 1","geometry":{"lat":52.0162681,"lng":5.660528999999999}},{"village":"Ede","id":"13","title":"de Proosdijkerk (aan de rotonde)","address":" Veenderweg 193","geometry":{"lat":52.0403399,"lng":5.6554578}},{"village":"Otterlo","id":"90","title":"Dorpshuis De Aanloop","address":" Sportlaan 5","geometry":{"lat":52.101062,"lng":5.7747008}},{"village":"Ede","id":"11","title":"Basisschool De Lettertuin","address":" De Ruyterstraat 1","geometry":{"lat":52.0468673,"lng":5.658981199999999}},{"village":"Ede","id":"24","title":"Wijkcentrum De Velder","address":" Munnikenhof 17","geometry":{"lat":52.041794,"lng":5.6333497}},{"village":"Lunteren","id":"58","title":"de Nederwoudschool","address":" Kruisbeekweg 45","geometry":{"lat":52.0896956,"lng":5.5763051}}]

var mymap = L.map('mapid').setView([52.0684873,5.6862632], 12);

L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18,
    id: 'mapbox.streets',
    accessToken: 'pk.eyJ1IjoiZnJpdHpuZW5zIiwiYSI6ImNqZjBzeGRoMDA2N2Iyd2s3MWNzZncyc2cifQ.teTE3ttJ4Dn5vIbah-dKqw'
}).addTo(mymap);

var markers = []

locations.map(addMarker)

function addMarker (marker) {
  if (!marker.geometry ) {
    console.log(marker)
    return
  }
  const lmarker = L.marker([marker.geometry.lat, marker.geometry.lng])
  lmarker.bindPopup(
    "<h3>" + marker.title + "</h3><span><a href='http://maps.apple.com/?q="+ marker.geometry.lat + ","+ marker.geometry.lng +"'>" +  marker.address +"</span>"
  )
  lmarker.addTo(mymap)
  return lmarker
}